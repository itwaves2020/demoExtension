(()=>{"use strict";var t={737:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(645),o=n.n(i)()((function(t){return t[1]}));o.push([t.id,'.base-button {\n  background: transparent;\n  max-height: 30px;\n  height: 30px;\n  border-radius: 20px;\n  padding: 0 15px;\n  border: solid 1px #e3e3e3;\n  color: #3b3b3b;\n  font-size: 12px;\n  transition: background 0.5s;\n}\n.base-button:hover {\n  background: #f0f0f0;\n  cursor: pointer;\n}\n.base-button:focus {\n  outline: none;\n}\n.base-button:active {\n  background: #e3e3e3;\n  cursor: pointer;\n}\n@media screen and (max-width: 900px) and (min-width: 540px) {\n  .base-button {\n    padding: 0 5px;\n  }\n}\n\n.ellipsis-button {\n  margin-left: auto;\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  border: none;\n  background: none;\n  transition: background 0.5s;\n}\n.ellipsis-button:hover {\n  display: block;\n  background: #e3e3e3;\n  cursor: pointer;\n}\n.ellipsis-button:focus {\n  outline: none;\n}\n\n.add-button {\n  width: 32px;\n  height: 32px;\n  background-color: #1d90f5;\n  border-radius: 50%;\n  font-size: 24px;\n  color: #fff;\n  line-height: 28px;\n  border: none;\n  position: absolute;\n  right: 10px;\n}\n.add-button:hover {\n  background-color: #0f69b8;\n  cursor: pointer;\n}\n@media screen and (max-width: 540px) {\n  .add-button {\n    position: fixed;\n    bottom: 10px;\n  }\n}\n\n.alert_info_wrapper {\n  padding: 8px 42px 8px 10px;\n  border-radius: 5px;\n  background-color: #f5f5f5;\n  margin: 15px 0 15px;\n}\n.alert_info_wrapper a {\n  color: #0f69b8;\n  text-decoration: none;\n}\n.alert_info_wrapper p {\n  margin: 2px 8px;\n  display: inline-block;\n}\n.alert_info_wrapper img {\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  float: left;\n  margin: 5px;\n}\n@media screen and (max-width: 540px) {\n  .alert_info_wrapper img {\n    display: inline-block;\n    float: none;\n    margin: 0 auto;\n  }\n}\n\n.toast-wrapper {\n  width: -webkit-fill-available;\n  position: fixed;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 5px;\n  z-index: 9999;\n  animation: fadein 0.3s;\n  -moz-animation: fadein 0.3s;\n  -webkit-animation: fadein 0.3s;\n  -o-animation: fadein 0.3s;\n  /* Opera */\n}\n@keyframes fadein {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-moz-keyframes fadein {\n  /* Firefox */\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadein {\n  /* Safari and Chrome */\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-o-keyframes fadein {\n  /* Opera */\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.toast {\n  min-width: 254px;\n  height: 40px;\n  flex-grow: 0;\n  padding: 0px 50px 0px 11px;\n  border-radius: 5px;\n  border: solid 1px #a4f6ba;\n  background-color: #f1fef4;\n  display: flex;\n  align-items: center;\n}\n.toast span {\n  font-size: 14px;\n  font-weight: normal;\n  font-style: normal;\n  line-height: 1.71;\n  letter-spacing: normal;\n  text-align: left;\n  color: #107f52;\n  display: inline-block;\n}\n.toast img {\n  width: 24px;\n  height: 24px;\n  margin: 6px 8px 6px 0px;\n  display: inline-block;\n  float: left;\n}\n\n.toast-error {\n  min-width: 254px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  flex-grow: 0;\n  padding: 0px 50px 0px 11px;\n  border-radius: 5px;\n  border: solid 1px #f8ced3;\n  background-color: #ffefef;\n}\n.toast-error span {\n  color: #bb1717;\n  font-size: 14px;\n  font-weight: normal;\n  font-style: normal;\n  line-height: 1.71;\n  letter-spacing: normal;\n  text-align: left;\n  display: inline-block;\n}\n.toast-error img {\n  width: 24px;\n  height: 24px;\n  margin: 6px 8px 6px 0px;\n  display: inline-block;\n  float: left;\n}\n@media screen and (max-width: 540px) {\n  .toast-error {\n    padding: 8px 0px 8px 10px;\n    min-width: 200px;\n    height: 15px;\n    margin-top: -10px;\n  }\n}\n\n.meeting-card-wrapper {\n  display: inline-block;\n  height: 125px;\n  min-height: 125px;\n  padding: 10px 18px 0px 15px;\n  border-radius: 5px;\n  border: solid 1px #f0f0f0;\n  background-color: #ffffff;\n}\n@media screen and (max-width: 540px) {\n  .meeting-card-wrapper {\n    padding: 10px 8px 0px 8px;\n  }\n}\n@media screen and (max-width: 900px) and (min-width: 540px) {\n  .meeting-card-wrapper {\n    padding: 10px 8px 0px 8px;\n  }\n}\n.meeting-card-wrapper .meeting-top {\n  display: flex;\n  position: relative;\n}\n.meeting-card-wrapper .meeting-top .title {\n  margin: 0;\n  font-size: 14px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.33;\n  letter-spacing: normal;\n  text-align: left;\n  color: #3b3b3b;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  max-width: 100%;\n}\n.meeting-card-wrapper .meeting-top .sub-title {\n  font-size: 14px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.71;\n  letter-spacing: normal;\n  text-align: left;\n  color: #707070;\n  margin: 0;\n}\n.meeting-card-wrapper .bottom {\n  display: flex;\n  justify-content: space-between;\n  padding-top: 46px;\n}\n.meeting-card-wrapper .bottom .avatar {\n  width: 100%;\n  max-width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  object-fit: cover;\n}\n.meeting-card-wrapper .bottom .user-count {\n  display: inline-flex;\n  justify-content: center;\n  max-height: 30px;\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  position: relative;\n  background: #f0f0f0;\n}\n.meeting-card-wrapper .bottom .user-count span {\n  position: absolute;\n  color: #707070;\n  font-size: 14px;\n  align-items: center;\n  align-self: center;\n}\n.meeting-card-wrapper .staff-card {\n  padding-top: 0px;\n  padding-bottom: 51px;\n  align-items: center;\n}\n.meeting-card-wrapper .staff-bottom {\n  height: 30px;\n}\n.meeting-card-wrapper .name {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n.meeting-card-wrapper:hover .ellipsis-button {\n  display: block;\n}\n\n.tooltip {\n  min-width: 70px;\n  min-height: 20px;\n  top: -10px;\n  left: 50%;\n  transform: translate(-50%, -100%);\n  color: #3b3b3b;\n  background-color: #fff;\n  font-size: 12px;\n  border-radius: 5px;\n  position: absolute;\n  z-index: 9999;\n  box-sizing: border-box;\n  box-shadow: 0 1px 8px #dddddd;\n  visibility: hidden;\n  opacity: 0;\n  transition: opacity 0.8s;\n}\n.tooltip i {\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -12px;\n  width: 24px;\n  height: 12px;\n  overflow: hidden;\n}\n.tooltip i::after {\n  content: "";\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  left: 50%;\n  transform: translate(-50%, -50%) rotate(45deg);\n  background-color: #fff;\n  box-shadow: 0 1px 8px #dddddd;\n}\n\n* {\n  font-family: "Lato", "Arial", "Helvetica", "sans-serif";\n}\n\n.hide {\n  display: none;\n}\n\n.show {\n  display: inline-block;\n}\n\n.container {\n  padding: 35px 35px;\n  margin: 0 0 50px 0;\n}\n@media screen and (max-width: 540px) {\n  .container {\n    padding: 0px;\n  }\n}\n.container .root {\n  padding: 10px 15px;\n}\n@media screen and (max-width: 540px) {\n  .container .root {\n    padding: 10px 0px;\n  }\n}\n.container .root .services-text {\n  margin: 10px 0px 12px 0px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.container .root .services-text h2 {\n  margin: 0;\n  font-size: 24px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.33;\n  letter-spacing: normal;\n  text-align: left;\n  color: #3b3b3b;\n}\n.container .root .services-text .my-booking a {\n  font-size: 14px;\n  font-weight: 600;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.71;\n  letter-spacing: normal;\n  text-align: left;\n  color: #0f69b8;\n  float: left;\n  margin: 6px 15px;\n  text-decoration: none;\n}\n.container .root .services-text .my-booking a:hover {\n  text-decoration: underline;\n}\n.container .root .services-text .my-booking button {\n  display: flex;\n  align-items: center;\n  padding: 0;\n  border: none;\n  background: transparent;\n  position: relative;\n  cursor: pointer;\n}\n.container .root .services-text .my-booking button:focus {\n  background-color: #e3e3e3;\n  border-radius: 50%;\n  outline: none;\n}\n.container .root .services-text .my-booking button:hover .tooltip {\n  visibility: visible;\n  opacity: 1;\n}\n.container .root .services-text .my-booking img {\n  width: 18px;\n  height: 18px;\n  padding: 6px;\n  border: solid 1px #e3e3e3;\n  border-radius: 50%;\n}\n.container .root .services-text .my-booking img:hover {\n  background-color: #f0f0f0;\n}\n.container .root .services-text .my-booking img:focus {\n  background-color: #f0f0f0;\n  outline: none;\n}\n.container .root .services-text .my-booking img:active {\n  background-color: #e3e3e3;\n  outline: none;\n}\n.container .root .card-section {\n  display: grid;\n  grid-template-columns: repeat(3, calc(calc(100% / 3) - calc(40px / 3)));\n  grid-gap: 20px;\n}\n@media screen and (max-width: 540px) {\n  .container .root .card-section {\n    grid-template-columns: repeat(1, 100%);\n  }\n}\n@media screen and (max-width: 900px) and (min-width: 540px) {\n  .container .root .card-section {\n    grid-template-columns: repeat(2, calc(calc(100% / 2) - calc(20px / 2)));\n  }\n}\n@media screen and (max-width: 1300px) and (min-width: 900px) {\n  .container .root .card-section {\n    grid-template-columns: repeat(3, calc(calc(100% / 3) - calc(40px / 3)));\n  }\n}\n@media screen and (max-width: 1800px) and (min-width: 1300px) {\n  .container .root .card-section {\n    grid-template-columns: repeat(3, calc(calc(100% / 3) - calc(60px / 3)));\n  }\n}\n@media screen and (min-width: 1800px) {\n  .container .root .card-section {\n    grid-template-columns: repeat(5, calc(calc(100% / 5) - calc(80px / 5)));\n  }\n}\n.container .root .class-section {\n  padding-top: 30px;\n}\n.container .root .staff-section {\n  margin-top: 20px;\n}\n.container .root .cat-name {\n  padding: 18px 0px 10px 0px;\n  font-size: 16px;\n  font-weight: normal;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.5;\n  letter-spacing: normal;\n  text-align: left;\n  color: #707070;\n  display: inline-block;\n  width: 100%;\n}\n.container .root .dropdown-content {\n  position: absolute;\n  right: 0;\n  background-color: #fff;\n  box-shadow: 0px 7px 35px 0px #f0f0f0;\n  z-index: 1;\n  min-height: 150px;\n  min-width: 130px;\n  margin-top: 35px;\n  border-radius: 5px;\n}\n.container .root .dropdown-content a {\n  font-size: 14px;\n  color: #000;\n  padding: 15px 16px;\n  text-decoration: none;\n  display: block;\n}\n.container .root .dropdown-content a:hover {\n  background-color: #f0f0f0;\n  cursor: pointer;\n}\n',""]);const s=o},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var s=0;s<this.length;s++){var r=this[s][0];null!=r&&(o[r]=!0)}for(var a=0;a<t.length;a++){var d=[].concat(t[a]);i&&o[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),e.push(d))}},e}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={id:i,exports:{}};return t[i](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{class t{constructor(t){this.headers=t.headers,this.baseUrl=t.baseUrl,this.isDev=t.isDev||!1}static getInstance(t,e){this._instance=this._instance||new this(t),"function"==typeof e&&e({success:!0})}}window.__config=(e,n)=>{t.getInstance(e,n)};const e=t=>{const e=document.createElement("button");return e.innerText=t.label||"",t.class&&e.setAttribute("class",t.class),e.disabled=t.disabled,e},i="https://storage.googleapis.com/setmore-assets/2.0/Images/EasyShare/alert_success.png",o="https://storage.googleapis.com/setmore-assets/2.0/Images/EasyShare/default_avatar.png",s=t=>(t=>{const e=document.createElement("template");return e.innerHTML=`\n        <img\n            class="${t.styleClass||""}"\n            src="${t.src||""}"\n            style="${t.styles||""}"\n            onerror="this.src='${o}'"\n        >\n        </img>\n        `,e})(t).content.cloneNode(!0),r=t=>{if("self"===t.tag)t.style&&t.appendWidh.setAttribute("style",t.style);else{const e=document.createElement(t.tag);if(t.style&&e.setAttribute("style",t.style),t.class&&e.setAttribute("class",t.class),t.innerText&&(e.innerText=t.innerText),t.innerTitle&&e.setAttribute("title",t.innerTitle),t.innerHTML&&(e.innerHTML=t.innerHTML),t.attributes)for(const n of t.attributes)e.setAttribute(n.name,n.value);t.appendWidh.appendChild(e)}},a=t=>{const e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)},d=["SERVICE","CLASS"],c=t=>{let e=0;if(t)for(const n in t)t[n].length&&e++;return e},l=t=>{const e=document.createElement("div");return e.setAttribute("class","hide dropdown-content"),t.list.forEach((t=>{const n=document.createElement("a");n.setAttribute("href","#"),n.innerText=t,e.appendChild(n)})),e};class p{constructor(t){this.meeting=document.createElement("div"),this.top=document.createElement("div"),this.bottom=document.createElement("div"),this.dropdown=l({list:["Preview","Edit","Delete"]}),this._toggleDropdown=t=>{this.dropdown.classList.contains("hide")?this.dropdown.classList.remove("hide"):this.dropdown.classList.add("hide")},this._cardMouseOver=()=>{const t=(t=>{const e=this.sideColor.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,n,i)=>"#"+e+e+n+n+i+i)).substring(1).match(/.{2}/g).map((t=>parseInt(t,16)));return`${e[0]} ${e[1]} ${e[2]}`})();this.meeting.style.setProperty("box-shadow",`0 7px 51px 0 rgb(0 0 0 / 2%), 0 7px 24px 0 rgb(${t} / 12%)`),this.bottom.lastElementChild.classList.remove("hide")},this._cardMouseOut=()=>{this.meeting.style.setProperty("box-shadow","none"),this.bottom.lastElementChild.classList.add("hide")},this._renderUserIcon=t=>{for(let e=0;e<t.limit&&t.users[e];e++)t.wrapper.appendChild(s({src:t.users[e].CompanyLogoPath||o,styleClass:"avatar",alt:"Members",styles:t.avatarStyle||""}));if(t.users.length>t.limit){const e=document.createElement("div");e.setAttribute("class","user-count"),t.avatarStyle&&e.setAttribute("style",t.avatarStyle);const n=document.createElement("span");n.innerText=`+${t.limit} `,e.appendChild(n),t.wrapper.appendChild(e)}},this.meeting.setAttribute("class","meeting-card-wrapper"),this.top.setAttribute("class","meeting-top"),t.title||console.error("Title is missing",{props:t}),r({tag:"self",appendWidh:this.meeting,style:`border-left: 4px solid #${t.colour}`}),this.title=t.title,this.btnText=t.bottomButtonText||"Copy Link",this.avatarStyle=t.avatarStyle,this.users=t.provider||[],this.sideColor=`#${t.colour}`,this.price=t.price,this.duration=t.duration,this.bookingLink=t.bookingLink,this.ack=t.ack,this._top(),this._bottom(),this.meeting.appendChild(this.top),this.meeting.appendChild(this.bottom),this._toggleDropdown=this._toggleDropdown.bind(this),this._cardMouseOver=this._cardMouseOver.bind(this),this._cardMouseOut=this._cardMouseOut.bind(this),this._renderUserIcon=this._renderUserIcon.bind(this),this.meeting.addEventListener("mouseover",this._cardMouseOver),this.meeting.addEventListener("mouseout",this._cardMouseOut)}_top(){let t=this.duration?`${this.duration} mins`:"";t+=this.duration&&this.price?" &middot; ":"",t+=this.price?`$${this.price}`:"",r({tag:"div",style:"width: 80%;",appendWidh:this.top}),r({tag:"h2",class:"title",appendWidh:this.top.firstChild,innerTitle:this.title,innerHTML:`${this.title}`}),r({tag:"p",class:"sub-title",appendWidh:this.top.firstChild,innerHTML:t}),this.top.appendChild(this.dropdown)}_bottom(){this.bottom.setAttribute("class","bottom"),r({tag:"div",appendWidh:this.bottom});const t=document.createElement("div");this._renderUserIcon({limit:5,users:this.users,avatarStyle:this.avatarStyle,wrapper:t});const n=e({label:this.btnText,class:"base-button hide"});n.addEventListener("click",(()=>{this.bookingLink?(a(this.bookingLink),this.ack(null,"Link copied successfully!")):this.ack("Link not found!","")})),this.bottom.firstChild.appendChild(t),this.bottom.appendChild(n)}}class h{constructor(t){this.staff=document.createElement("div"),this.top=document.createElement("div"),this.bottom=document.createElement("div"),this.dropdown=l({list:["Preview","Edit","Delete"]}),this._toggleDropdown=t=>{this.dropdown.classList.contains("hide")?this.dropdown.classList.remove("hide"):this.dropdown.classList.add("hide")},this._cardMouseOver=()=>{this.staff.style.setProperty("box-shadow","0 7px 30px 0 rgb(0 0 0 / 0%), 0 7px 30px 0 rgb(0 0 0 / 7%)"),this.bottom.lastElementChild.classList.remove("hide")},this._cardMouseOut=()=>{this.staff.style.setProperty("box-shadow","none"),this.bottom.lastElementChild.classList.add("hide")},this._renderUserIcon=t=>{t.appendChild(s({src:this.companyLogoPath||o,styleClass:"avatar",alt:"Staff",styles:this.avatarStyle||""}))},this.staff.setAttribute("class","meeting-card-wrapper"),this.bottom.setAttribute("class","meeting-top staff-bottom"),r({tag:"self",appendWidh:this.staff,style:`border-left: 4px solid #${t.colour}`}),this.firstName=t.firstname,this.companyLogoPath=t.photourl,this.btnText=t.bottomButtonText||"Copy Link",this.avatarStyle=t.avatarStyle,this.users=t.provider||[],this.sideColor=`#${t.colour}`,this.bookingLink=t.bookingurl,this.ack=t.ack,this._top(),this._bottom(),this.staff.appendChild(this.top),this.staff.appendChild(this.bottom),this._toggleDropdown=this._toggleDropdown.bind(this),this._cardMouseOver=this._cardMouseOver.bind(this),this._cardMouseOut=this._cardMouseOut.bind(this),this._renderUserIcon=this._renderUserIcon.bind(this),this.staff.addEventListener("mouseover",this._cardMouseOver),this.staff.addEventListener("mouseout",this._cardMouseOut)}_bottom(){r({tag:"div",class:"name",appendWidh:this.bottom}),r({tag:"h2",class:"title",appendWidh:this.bottom.firstChild,innerHTML:this.firstName+" "+(this.lastName||"")});const t=e({label:this.btnText,class:"base-button hide"});t.addEventListener("click",(()=>{this.bookingLink?(a(this.bookingLink),this.ack(null,"Link copied successfully!")):this.ack("Link not found!","")})),this.bottom.appendChild(t)}_top(){this.top.setAttribute("class","staff-card bottom"),r({tag:"div",appendWidh:this.top});const t=document.createElement("div");this._renderUserIcon(t),this.top.appendChild(this.dropdown),this.top.firstChild.appendChild(t)}}const m=t=>(t=>{const e=document.createElement("template");return e.innerHTML=`\n        <div class="${t.class||"toast-wrapper"}" style=${t.style}">\n            <div class="${t.toastClass||"toast"}">\n                <img src="${t.icon||i}"/>\n                <span>\n                    ${t.message||""}\n                </span>\n            </div>\n        </div>\n        `,e})(t).content.cloneNode(!0);async function g(t,e){return(await fetch(t,{method:"GET",headers:e})).json()}var u=n(737);class f extends HTMLElement{constructor(){super(),this.init=!1,this.apiConfig=t._instance,this.attachShadow({mode:"open"});const e=document.createElement("style"),n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href","https://use.typekit.net/jxr4jlj.css"),e.innerHTML=`${u.Z[0][1]}`,this.appendChild(n),this.shadowRoot.appendChild(e),this.isBooking=Boolean(this.getAttribute("myBooking")),this.ack=this.ack.bind(this)}static get observedAttributes(){return["class"]}connectedCallback(){const e=t._instance;this.render(e)}disconnectedCallback(){console.log("easyshare webcomponent disconnected")}attributeChangedCallback(e,n,i){if(n!==i&&this.init){const e=t._instance;this.shadowRoot.querySelectorAll(".container").forEach((t=>this.shadowRoot.removeChild(t))),this.render(e)}else this.init=!0}async getData(t){if(!this.getAttribute("merchandId"))throw this.ack("MerchandId required!"),new Error("MerchandId required!");const e=this.getAttribute("merchandId"),n=(this.getAttribute("limit"),this.getAttribute("isDeleted"),this.getAttribute("cursor"),`${t.baseUrl}/services/type?merchantId=${e}`),i=`${t.baseUrl}/services/category?merchantId=${e}`,o=Promise.all([g(n,t.headers),g(i,t.headers),g("https://20210512-dot-services-dot-staging-schedulingengine.el.r.appspot.com/api/v1/profile/all",{...t.headers,merchantid:"bad0bd74-e050-470c-8de0-004a3af34a7c"})]),[s,r,a]=await o;return{_services:s,_categories:r,_staff:a}}filterProviders(t,e,n){const i={};for(const n of t.data.scheduleTypes||[]){n.scheduleType in i||(i[n.scheduleType]=[]),i[n.scheduleType].push(n);const t=n.provider||[],o=[];for(const n of t){const t=((e.data||{}).items||[]).findIndex((t=>t.profile.key===n));t>-1&&o.push(e.data.items[t].profile)}n.provider=[...o]}this.filteredServices=i}async getCategories(t,e,n,i){for(let t=0;t<n.category;t++);}async render(t){const{_services:e,_categories:n,_staff:i}=await this.getData(t);if(!e.data||!n.data||!i.data)throw this.ack(e.msg),new Error(e.msg);this.filterProviders(e,i,t);const o=d;let s=0;const a=document.createElement("div");a.setAttribute("class","container");for(const e of o){const i=document.createElement("div"),o=document.createElement("div");o.setAttribute("class","services-text"),i.setAttribute("class","root");const d="SERVICE"===e?"Services":"Classes";if(r({tag:"h2",innerText:d,appendWidh:o}),r({tag:"div",class:"my-booking",appendWidh:o}),this.isBooking&&!s&&this.renderCopy(o,t.baseUrl),s++,i.appendChild(o),a.appendChild(i),this.appendChild(a),this.filteredServices[e]){const t={};this.filteredServices[e]&&this.filteredServices[e].length&&(this.groupby(t,this.filteredServices[e],n,e),this.renderGroup(t,i))}else{const t=(t=>{const e=document.createElement("template");return e.innerHTML=`\n        <div class="${t.class||"alert_info_wrapper"}" style="${t.wrapperStyles||""}">\n            <img src="https://storage.googleapis.com/setmore-assets/2.0/Images/EasyShare/alert_info.png"/>\n            <p>${t.message||""}\n                <a href="${t.href||""}" target="${t.linkTarget||""}">\n                    ${t.linkText||""}\n                </a>\n            </p>\n        </div>\n        `,e})({message:`You don't have any ${d.toLowerCase()} yet. `}).content.cloneNode(!0);i.appendChild(t)}}this.renderStaff(i,a),this.shadowRoot.appendChild(a)}groupby(t,e,n,i){t[i]={};let o=(n.data||{}).scheduleCategories||[];o=o.sort(((t,e)=>t.createdTime-e.createdTime));for(const n of o)if(i===n.categoryType){t[i][n.title]=[];for(const o of e)o.category.findIndex((t=>t===n.id))>-1&&t[i][n.title].push(o)}}renderGroup(t,e){if(t)for(const n in t)if(t[n])for(const i in t[n])if(t[n][i]){const o=document.createElement("div");if(o.setAttribute("class","card-section"),t[n][i].length){if(c(t[n])>1){const t=document.createElement("div");t.setAttribute("class","cat-name"),t.innerText=i,e.appendChild(t)}for(const e of t[n][i]){const t=new p({...e,ack:this.ack});o.appendChild(t.meeting)}e.appendChild(o)}}}renderStaff(t,e){if(t){const n=document.createElement("div");n.setAttribute("class","services-text");const i=document.createElement("div");i.setAttribute("class","root"),r({tag:"h2",innerText:"Staff",appendWidh:n}),r({tag:"div",class:"my-booking",appendWidh:n}),i.appendChild(n),e.appendChild(i),this.appendChild(e);const o=t.data.items,s=document.createElement("div");s.setAttribute("class","card-section staff-section");for(const t of o){const e=new h({...t.profile,ack:this.ack});s.appendChild(e.staff)}i.appendChild(s)}}renderCopy(t,n){const i=this.getAttribute("merchandId");console.log("merchandId: ",i);const o=`${n}/bookingpage/${i}`;r({tag:"a",appendWidh:t.lastChild,innerText:"My Booking Page",attributes:[{name:"href",value:o},{name:"target",value:"_Blank"}]});const d=e({});d.addEventListener("click",(()=>{a(o),this.ack(null,"Link copied successfully!")}));const c=s({src:"https://storage.googleapis.com/setmore-assets/2.0/Images/EasyShare/copy_icon.png"}),l=(t=>{const e=document.createElement("template");return e.innerHTML=`\n        <div class="${t.class||"tooltip"}">\n            <p>${t.label}<i></i></p>\n        </div>\n        `,e})({label:"Copy Link"}).content.cloneNode(!0);d.appendChild(c),d.appendChild(l),t.lastChild.appendChild(d)}setAddButton(t){const n=e({label:"+",class:"add-button"});t.appendChild(n)}ack(t,e){this.timeout&&clearTimeout(this.timeout);for(const t of this.shadowRoot.querySelectorAll(".toast-wrapper"))this.shadowRoot.removeChild(t);t?this.shadowRoot.insertBefore(m({icon:"https://storage.googleapis.com/setmore-assets/2.0/Images/EasyShare/info_icon.svg",toastClass:"toast-error",message:t}),this.shadowRoot.firstChild):this.shadowRoot.insertBefore(m({message:e}),this.shadowRoot.firstChild),this.timeout=setTimeout((()=>{for(const t of this.shadowRoot.querySelectorAll(".toast-wrapper"))this.shadowRoot.removeChild(t);clearTimeout(this.timeout)}),3e3)}}class b extends HTMLElement{constructor(){super(),this.toast=document.createElement("div"),this.setAttribute("class","toast-wrapper"),this.toast.setAttribute("class","toast"),this.message=this.getAttribute("message"),this.class=this.getAttribute("class"),this.toastBackgroundColor=this.getAttribute("background-color"),this.toastborderColor=this.getAttribute("border-color"),this.toastIconSrc=this.getAttribute("icon-src"),this.textColor=this.getAttribute("color")}connectedCallback(){this.render()}attributeChangedCallback(){this.render()}render(){const t=s({src:this.toastIconSrc||i}),e=document.createElement("span");e.innerText=this.message||"",this.toastBackgroundColor&&this.toast.style.setProperty("background-color",this.toastBackgroundColor),this.textColor&&e.style.setProperty("color",this.textColor),this.toastborderColor&&this.toast.style.setProperty("border",`solid 1px ${this.toastborderColor}`),this.toast.appendChild(t),this.toast.appendChild(e),this.appendChild(this.toast)}}document.addEventListener("DOMContentLoaded",(()=>{customElements.get("service-wrapper")||customElements.define("service-wrapper",f),customElements.get("toast-wrapper")||customElements.define("toast-wrapper",b)}))})()})();